import"./modulepreload-polyfill-B5Qt9EMX.js";import"./logout-DMNDklZ6.js";document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("crud-content");document.querySelectorAll(".crud-actions button").forEach(o=>{o.addEventListener("click",async n=>{const e=o.getAttribute("data-entity"),t=o.getAttribute("data-action");r.innerHTML="",e==="produtos"&&t==="listar"?await c():r.innerHTML=`<p style="text-align:center;">Funcionalidade <b>${t}</b> para <b>${e}</b> em construção.</p>`})});async function c(){const o=localStorage.getItem("token");try{const n=await fetch("https://store-management-system-xemr.onrender.com/api/produtos",{headers:{Authorization:`Bearer ${o}`}});if(!n.ok)throw new Error("Erro ao buscar produtos");const e=await n.json();if(!Array.isArray(e)||e.length===0){r.innerHTML="<p>Nenhum produto encontrado.</p>";return}let t='<h2>Lista de Produtos</h2><table style="width:100%;border-collapse:collapse;margin-top:1rem;">';t+="<tr><th>ID</th><th>Nome</th><th>Preço</th></tr>",e.forEach(a=>{t+=`<tr><td>${a.id}</td><td>${a.nome}</td><td>${a.preco}</td></tr>`}),t+="</table>",r.innerHTML=t}catch{r.innerHTML='<p style="color:red;">Erro ao buscar produtos.</p>'}}});
